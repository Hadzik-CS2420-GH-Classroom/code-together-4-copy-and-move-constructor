<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 695" font-family="Consolas, monospace" font-size="13">

  <!-- ==================== TITLE ==================== -->
  <text x="550" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#222">
    FancyNameTag Copy Constructor: Deep Copy (new heap allocation)
  </text>
  <text x="550" y="50" text-anchor="middle" font-size="13" fill="#666">
    FancyNameTag fCopied(fOriginal);
  </text>

  <!-- ==================== BEFORE (left half) ==================== -->
  <text x="235" y="80" text-anchor="middle" font-size="16" font-weight="bold" fill="#333">Before Copy</text>

  <!-- Stack region (before) -->
  <rect x="30" y="95" width="210" height="200" rx="8" fill="#e8f0fe" stroke="#4285f4" stroke-width="1.5"/>
  <text x="40" y="115" font-size="12" font-weight="bold" fill="#4285f4">STACK</text>

  <!-- fOriginal box -->
  <rect x="45" y="125" width="180" height="155" rx="6" fill="#fff" stroke="#333" stroke-width="2"/>
  <text x="135" y="148" text-anchor="middle" font-weight="bold" font-size="14" fill="#333">fOriginal</text>

  <!-- id_ -->
  <rect x="57" y="155" width="155" height="26" rx="4" fill="#fff3e0" stroke="#e65100" stroke-width="1"/>
  <text x="67" y="173" fill="#333">id_ =</text>
  <text x="110" y="173" font-weight="bold" fill="#e65100">1</text>

  <!-- company_ -->
  <rect x="57" y="185" width="155" height="40" rx="4" fill="#e3f2fd" stroke="#1565c0" stroke-width="1"/>
  <text x="67" y="203" fill="#333">company_ =</text>
  <text x="62" y="219" font-weight="bold" font-size="10" fill="#1565c0">"Weber State Univ."</text>

  <!-- bio_ pointer -->
  <rect x="57" y="229" width="155" height="26" rx="4" fill="#e8f5e9" stroke="#2e7d32" stroke-width="1"/>
  <text x="67" y="247" fill="#333">bio_</text>
  <circle cx="198" cy="242" r="5" fill="#2e7d32"/>

  <!-- Heap region (before) -->
  <rect x="270" y="95" width="210" height="200" rx="8" fill="#e8f8e8" stroke="#2e7d32" stroke-width="1.5"/>
  <text x="280" y="115" font-size="12" font-weight="bold" fill="#2e7d32">HEAP</text>

  <!-- Bio block (before) -->
  <rect x="285" y="125" width="180" height="155" rx="6" fill="#c8e6c9" stroke="#2e7d32" stroke-width="1.5"/>
  <text x="375" y="148" text-anchor="middle" font-weight="bold" font-size="12" fill="#1b5e20">Bio</text>

  <text x="295" y="168" fill="#333" font-size="11">name = "Scott"</text>
  <text x="295" y="186" fill="#333" font-size="11">title = "Professor"</text>
  <text x="295" y="204" fill="#333" font-size="11">dept = "Comp Sci"</text>
  <text x="295" y="222" fill="#333" font-size="11">year = 2010</text>

  <text x="375" y="268" text-anchor="middle" font-size="10" fill="#2e7d32">HEAP addr: xxxxx</text>

  <!-- Arrow: bio_ -> Bio -->
  <line x1="203" y1="242" x2="283" y2="200" stroke="#2e7d32" stroke-width="2" marker-end="url(#arrowGreen)"/>

  <!-- No fCopied yet -->
  <rect x="45" y="310" width="180" height="40" rx="6" fill="#f5f5f5" stroke="#bbb" stroke-width="1.5" stroke-dasharray="6,3"/>
  <text x="135" y="335" text-anchor="middle" font-size="11" fill="#999">fCopied does not exist yet</text>

  <!-- ==================== BIG ARROW ==================== -->
  <text x="535" y="210" text-anchor="middle" font-size="28" fill="#555">&#x27A1;</text>
  <text x="535" y="230" text-anchor="middle" font-size="10" fill="#888">FancyNameTag</text>
  <text x="535" y="244" text-anchor="middle" font-size="10" fill="#888">fCopied(fOriginal)</text>

  <!-- ==================== AFTER (right half) ==================== -->
  <text x="830" y="80" text-anchor="middle" font-size="16" font-weight="bold" fill="#333">After Deep Copy</text>

  <!-- Stack region (after) -->
  <rect x="580" y="95" width="210" height="390" rx="8" fill="#e8f0fe" stroke="#4285f4" stroke-width="1.5"/>
  <text x="590" y="115" font-size="12" font-weight="bold" fill="#4285f4">STACK</text>

  <!-- fOriginal box (after — unchanged) -->
  <rect x="595" y="125" width="180" height="155" rx="6" fill="#fff" stroke="#333" stroke-width="2"/>
  <text x="685" y="148" text-anchor="middle" font-weight="bold" font-size="14" fill="#333">fOriginal</text>

  <!-- id_ -->
  <rect x="607" y="155" width="155" height="26" rx="4" fill="#fff3e0" stroke="#e65100" stroke-width="1"/>
  <text x="617" y="173" fill="#333">id_ =</text>
  <text x="660" y="173" font-weight="bold" fill="#e65100">1</text>

  <!-- company_ -->
  <rect x="607" y="185" width="155" height="40" rx="4" fill="#e3f2fd" stroke="#1565c0" stroke-width="1"/>
  <text x="617" y="203" fill="#333">company_ =</text>
  <text x="612" y="219" font-weight="bold" font-size="10" fill="#1565c0">"Weber State Univ."</text>

  <!-- bio_ pointer -->
  <rect x="607" y="229" width="155" height="26" rx="4" fill="#e8f5e9" stroke="#2e7d32" stroke-width="1"/>
  <text x="617" y="247" fill="#333">bio_</text>
  <circle cx="748" cy="242" r="5" fill="#2e7d32"/>

  <!-- unchanged label -->
  <text x="685" y="295" text-anchor="middle" font-size="11" fill="#888">(unchanged)</text>

  <!-- fCopied box (after — NEW, highlighted) -->
  <rect x="595" y="310" width="180" height="155" rx="6" fill="#fffde7" stroke="#f57f17" stroke-width="2.5"/>
  <text x="685" y="333" text-anchor="middle" font-weight="bold" font-size="14" fill="#f57f17">fCopied (NEW)</text>

  <!-- id_ (copied) -->
  <rect x="607" y="340" width="155" height="26" rx="4" fill="#fff3e0" stroke="#e65100" stroke-width="1.5"/>
  <text x="617" y="358" fill="#333">id_ =</text>
  <text x="660" y="358" font-weight="bold" fill="#e65100">1</text>

  <!-- company_ (copied) -->
  <rect x="607" y="370" width="155" height="40" rx="4" fill="#e3f2fd" stroke="#1565c0" stroke-width="1.5"/>
  <text x="617" y="388" fill="#333">company_ =</text>
  <text x="612" y="404" font-weight="bold" font-size="10" fill="#1565c0">"Weber State Univ."</text>

  <!-- bio_ pointer (copied — points to NEW heap block) -->
  <rect x="607" y="414" width="155" height="26" rx="4" fill="#e8f5e9" stroke="#2e7d32" stroke-width="1.5"/>
  <text x="617" y="432" fill="#333">bio_</text>
  <circle cx="748" cy="427" r="5" fill="#2e7d32"/>

  <!-- Heap region (after — TWO Bio blocks) -->
  <rect x="820" y="95" width="250" height="390" rx="8" fill="#e8f8e8" stroke="#2e7d32" stroke-width="1.5"/>
  <text x="830" y="115" font-size="12" font-weight="bold" fill="#2e7d32">HEAP</text>

  <!-- Original Bio block (same address) -->
  <rect x="835" y="125" width="220" height="140" rx="6" fill="#c8e6c9" stroke="#2e7d32" stroke-width="1.5"/>
  <text x="945" y="148" text-anchor="middle" font-weight="bold" font-size="12" fill="#1b5e20">Bio (original's)</text>

  <text x="845" y="168" fill="#333" font-size="11">name = "Scott"</text>
  <text x="845" y="186" fill="#333" font-size="11">title = "Professor"</text>
  <text x="845" y="204" fill="#333" font-size="11">dept = "Computer Science"</text>
  <text x="845" y="222" fill="#333" font-size="11">year = 2010</text>

  <text x="945" y="255" text-anchor="middle" font-size="10" fill="#2e7d32">HEAP addr: aaa11</text>

  <!-- NEW Bio block (different address!) -->
  <rect x="835" y="310" width="220" height="155" rx="6" fill="#fff9c4" stroke="#f57f17" stroke-width="2"/>
  <text x="945" y="333" text-anchor="middle" font-weight="bold" font-size="12" fill="#e65100">Bio (fCopied's) NEW!</text>

  <text x="845" y="353" fill="#333" font-size="11">name = "Scott"</text>
  <text x="845" y="371" fill="#333" font-size="11">title = "Professor"</text>
  <text x="845" y="389" fill="#333" font-size="11">dept = "Computer Science"</text>
  <text x="845" y="407" fill="#333" font-size="11">year = 2010</text>

  <text x="945" y="455" text-anchor="middle" font-size="10" fill="#e65100">HEAP addr: bbb22 (DIFFERENT!)</text>

  <!-- Arrow: fOriginal.bio_ -> original Bio -->
  <line x1="753" y1="242" x2="833" y2="200" stroke="#2e7d32" stroke-width="2" marker-end="url(#arrowGreen)"/>

  <!-- Arrow: fCopied.bio_ -> NEW Bio -->
  <line x1="753" y1="427" x2="833" y2="390" stroke="#f57f17" stroke-width="2" marker-end="url(#arrowOrange)"/>

  <!-- ==================== CALLOUT BOXES ==================== -->

  <!-- Deep copy callout -->
  <rect x="30" y="510" width="520" height="80" rx="6" fill="#fff3e0" stroke="#e65100" stroke-width="1.5"/>
  <text x="290" y="532" text-anchor="middle" font-size="12" font-weight="bold" fill="#e65100">Deep Copy: new Bio(*other.bio_)</text>
  <text x="290" y="550" text-anchor="middle" font-size="11" fill="#666">The copy constructor allocates NEW heap memory for the Bio,</text>
  <text x="290" y="566" text-anchor="middle" font-size="11" fill="#666">then copies all the Bio data into it. Each object owns its own Bio.</text>
  <text x="290" y="582" text-anchor="middle" font-size="11" fill="#444">This is why we need a custom copy constructor (Rule of Five).</text>

  <!-- Why not default callout -->
  <rect x="580" y="510" width="490" height="80" rx="6" fill="#ffebee" stroke="#c62828" stroke-width="1.5"/>
  <text x="825" y="532" text-anchor="middle" font-size="12" font-weight="bold" fill="#c62828">Why the default copy would be WRONG:</text>
  <text x="825" y="550" text-anchor="middle" font-size="11" fill="#666">The default would copy the pointer value (shallow copy),</text>
  <text x="825" y="566" text-anchor="middle" font-size="11" fill="#666">making both objects point to the SAME Bio on the heap.</text>
  <text x="825" y="582" text-anchor="middle" font-size="11" fill="#666">When one is destroyed, the other has a dangling pointer!</text>

  <!-- Key difference from NameTag -->
  <rect x="30" y="605" width="1040" height="70" rx="6" fill="#e3f2fd" stroke="#1565c0" stroke-width="1.5"/>
  <text x="550" y="628" text-anchor="middle" font-size="12" font-weight="bold" fill="#1565c0">NameTag vs FancyNameTag: Why the difference?</text>
  <text x="550" y="648" text-anchor="middle" font-size="11" fill="#666">NameTag has only stack members (int, std::string) — the compiler's default copy works fine.</text>
  <text x="550" y="665" text-anchor="middle" font-size="11" fill="#666">FancyNameTag owns a raw pointer (Bio*) — we MUST write a custom copy to allocate new heap memory.</text>

  <!-- ==================== ARROW MARKERS ==================== -->
  <defs>
    <marker id="arrowGreen" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#2e7d32"/>
    </marker>
    <marker id="arrowOrange" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#f57f17"/>
    </marker>
  </defs>

</svg>
